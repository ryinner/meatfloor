(self.webpackChunkmeatfloor=self.webpackChunkmeatfloor||[]).push([[501],{2387:function(e,t,i){"use strict";i.d(t,{R:function(){return o},c:function(){return a}});var n=i(6006);const r="/Api/Reservation";function o(e){return n.Z.post(`${r}/Create`,e)}function a(e){return n.Z.post(`${r}/Remove`,{id:e})}},7327:function(e,t,i){"use strict";i.r(t);var n=i(8081),r=i.n(n),o=i(3645),a=i.n(o)()(r());a.push([e.id,'.profile{margin:0 auto;max-width:1440px}.profile__heading{color:#fff;font-family:"Helvetica";font-weight:700;line-height:98px;font-size:60px;margin:20px 0}.profile__reservations{gap:20px;display:grid;grid-template-columns:repeat(12, 1fr)}.profile__reservation{padding:20px;border-radius:6px;grid-column:3 span;border:1px solid #ca006d}.reservation__heading{margin-bottom:12px;color:#fff;font-family:"Inter";font-weight:700;line-height:26px;font-size:18px}.reservation__date,.reservation__count,.reservation__time{text-align:center;color:#fff;font-family:"Inter";font-weight:400;line-height:24px;font-size:16px}.reservation__button{display:flex;justify-content:center;margin-top:14px}',""]),t.default=a},4537:function(e,t,i){"use strict";i.r(t),i.d(t,{default:function(){return b}});var n=i(6252),r=i(3577),o=i(2262),a=i(2387),s=i(6006),l=i(8615);var c=i(9113);function f(e,t=!1){const i=new Date(e);return`${i.toLocaleDateString()}${t?` ${i.toLocaleTimeString()}`:""}`}function u(e){const t=e.split(" ")[1].split(":");return`${t[0]}:${t[1]}`}const _={class:"profile"},d={class:"profile__heading"},p={class:"profile__reservations"},v={class:"reservation__heading"},m={class:"reservation__time"},g={class:"reservation__count"},h={class:"reservation__date"},x={class:"reservation__button"};var w={__name:"ProfileIndex",setup(e){const t=(0,l.L)(),i=(0,o.iH)({});return(0,n.bv)((async()=>await function(){const e=(0,l.L)();return s.Z.post("/Api/Profile",{user_id:e.user.id})}().then((e=>{i.value=e.data.user})))),(e,s)=>((0,n.wg)(),(0,n.iD)("div",_,[(0,n._)("h1",d,(0,r.zw)((0,o.SU)(t).isAuthenticated?(0,o.SU)(t).user.name:"Пожалуйста авторизуйтесь"),1),(0,n._)("section",p,[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(i.value.reservations,(e=>((0,n.wg)(),(0,n.iD)("article",{class:"profile__reservation reservation",key:e.id},[(0,n._)("h2",v,"Стол №"+(0,r.zw)(e.table_id),1),(0,n._)("div",m,"С "+(0,r.zw)((0,o.SU)(u)(e.time_from))+" до "+(0,r.zw)((0,o.SU)(u)(e.time_to)),1),(0,n._)("div",g,"Ждем вас в количестве "+(0,r.zw)(e.count)+" чел.",1),(0,n._)("div",h,(0,r.zw)((0,o.SU)(f)(e.time_from)),1),(0,n._)("div",x,[(0,n.Wm)(c.Z,{size:"sm",onClick:t=>(async e=>await(0,a.c)(e).then((()=>{i.value.reservations.splice(i.value.reservations.findIndex((t=>t.id===e)),1)})))(e.id)},{default:(0,n.w5)((()=>[(0,n.Uk)("Удалить")])),_:2},1032,["onClick"])])])))),128))])]))}};i(3541);var b=w},3541:function(e,t,i){var n=i(7327);n.__esModule&&(n=n.default),"string"==typeof n&&(n=[[e.id,n,""]]),n.locals&&(e.exports=n.locals);(0,i(5346).Z)("df0fbc28",n,!0,{})}}]);